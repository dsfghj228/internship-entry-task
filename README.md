# üéÆ –†–µ—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è: Web API –¥–ª—è –∏–≥—Ä—ã –≤ –ö—Ä–µ—Å—Ç–∏–∫–∏ –ù–æ–ª–∏–∫–∏


## üìå –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

- **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Layered Architecture)**¬†-  ‚Ä®–¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —É—Ä–æ–≤–Ω–µ–π –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–≤–æ–∏—Ö —Ä–æ–ª–µ–π.
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**¬†- —Ä–∞–∑–º–µ—Ä –ø–æ–ª—è, —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.
- **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å¬†–¥–ª—è¬†POST /moves¬†–∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∏–µ —Ö–æ–¥–∞** - –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ETag.
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —é–Ω–∏—Ç —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–µ–π, –∞ —Ç–∞–∫–∂–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º—ã –≤ —Ü–µ–ª–æ–º.
- **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ CI**¬†- –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ñ–∞–π–ª GitHub Actions –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤.

##–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **Presentation Layer (UI Layer)**

GameController  - –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å–∞–º–æ–π –∏–≥—Ä—ã.
HealthController - –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π 200 OK

- **Application Layer (Business Logic Layer, BLL)**
‚Ä®ETagService - —Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ETag‚Ä®‚Ä®3.¬†Data Access Layer (DAL)

- **ApplicationDbContext** - –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö‚Ä®GameRepository - —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è –∏–≥—Ä—ã
- **Domain Layer**
Game - —Å—É—â–Ω–æ—Å—Ç—å –∏–≥—Ä—ã

##–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç


‚Ä®##–û–ø–∏—Å–∞–Ω–∏–µ API

- **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã:**‚Ä®
   - Endpoint:¬†POST api/Game/create
   - –û–ø–∏—Å–∞–Ω–∏–µ:¬†–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∏–≥—Ä—É —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (—Ä–∞–∑–º–µ—Ä –ø–æ–ª—è, —É—Å–ª–æ–≤–∏–µ –ø–æ–±–µ–¥—ã), –≤–∑—è—Ç—ã–º–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
   - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:¬†Guid playerOneId‚Ä®Guid plyaerTwoId
   - –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:¬†200 OK
 
```json
 {
   "id": "588ebe63-e13d-44be-9a49-e2c3d52ee67c",
   "board": [
     [
       0,
       0,
       0
      ],
     [
       0,
       0,
       0
     ],
     [
       0,
       0,
       0
     ]
   ],
   "size": 3,
   "playerOneId": "1aa3d8ef-a562-4011-8e48-a11447742202",
   "playerTwoId": "e6bedffe-4987-45a1-b3b9-af6a4f7aba60",
   "currentPlayerId": "1aa3d8ef-a562-4011-8e48-a11447742202",
   "status": 0,
   "stepCount": 0
  }
```

- **–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä—ã –ø–æ Id:**‚Ä®
   - Endpoint:¬†GET api/Game/{gameId}
   - –û–ø–∏—Å–∞–Ω–∏–µ:¬†–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–≥—Ä—É —Å –¥–∞–Ω–Ω—ã–º gameId
   - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:¬†Guid gameId
   - –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:¬†200 OK
 
```json
 {
   "id": "588ebe63-e13d-44be-9a49-e2c3d52ee67c",
   "board": [
     [
       0,
       0,
       0
      ],
     [
       0,
       0,
       0
     ],
     [
       0,
       0,
       0
     ]
   ],
   "size": 3,
   "playerOneId": "1aa3d8ef-a562-4011-8e48-a11447742202",
   "playerTwoId": "e6bedffe-4987-45a1-b3b9-af6a4f7aba60",
   "currentPlayerId": "1aa3d8ef-a562-4011-8e48-a11447742202",
   "status": 0,
   "stepCount": 0
  }
```
 - –û—à–∏–±–∫–∏: 404 Not Found: –ò–≥—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

- **–£–¥–∞–ª–µ–Ω–∏–µ –∏–≥—Ä—ã –ø–æ Id:**‚Ä®
   - Endpoint:¬†DELETE api/Game/{gameId}
   - –û–ø–∏—Å–∞–Ω–∏–µ:¬†–£–¥–∞–ª—è–µ—Ç –∏–≥—Ä—É —Å –¥–∞–Ω–Ω—ã–º gameId
   - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:¬†Guid gameId
   - –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:¬†200 OK
   - –û—à–∏–±–∫–∏: 404 Not Found: –ò–≥—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

- **–°–¥–µ–ª–∞—Ç—å —Ö–æ–¥:**‚Ä®
   - Endpoint:¬†POST api/Game/move/{gameId}
   - –û–ø–∏—Å–∞–Ω–∏–µ:¬†–î–µ–ª–∞–µ—Ç —Ö–æ–¥
   - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: Guid gameId, int row, int col, string If-Match(–ø–æ—Å–ª–µ–¥–Ω–∏–π ETag)
   - –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:¬†200 OK
```json
{
  "id": "588ebe63-e13d-44be-9a49-e2c3d52ee67c",
  "board": [
    [
      1,
      0,
      0
    ],
    [
      0,
      0,
      0
    ],
    [
      0,
      0,
      0
    ]
  ],
  "size": 3,
  "playerOneId": "1aa3d8ef-a562-4011-8e48-a11447742202",
  "playerTwoId": "e6bedffe-4987-45a1-b3b9-af6a4f7aba60",
  "currentPlayerId": "e6bedffe-4987-45a1-b3b9-af6a4f7aba60",
  "status": 1,
  "stepCount": 1
}
```
   - –û—à–∏–±–∫–∏:
     404 Not Found: –ò–≥—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞,
     404 Not Found: –Ø—á–µ–π–∫–∏ —Å —Ç–∞–∫–∏–º –∏–Ω–¥–µ–∫—Å–æ–º –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç,
     409 Conflict: –ò–≥—Ä–∞ —É–∂–µ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å,
     409 Conflict: –°–µ–π—á–∞—Å –æ—á–µ—Ä–µ–¥—å –¥—Ä—É–≥–æ–≥–æ –∏–≥—Ä–æ–∫–∞

- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:**‚Ä®
   - Endpoint:¬†GET api/Health
   - –û–ø–∏—Å–∞–Ω–∏–µ:¬†–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
   - –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:¬†200 OK
     
